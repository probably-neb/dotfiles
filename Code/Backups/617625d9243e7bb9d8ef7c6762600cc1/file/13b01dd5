file:///home/neb/Dropbox/pie/flac_fixer/fixer.py {"mtime":1629994862971,"ctime":1629910892454,"size":873,"etag":"37e8l0pans5","orphaned":false,"typeId":""}
from mutagen.flac import *
import os

flac_dir = os.getcwd() + '/test_flacs/'

def get_songs(directory):
    songs = set()
    sub_dirs = set()
    albums = set()

    for file in os.scandir(directory):
        #TODO -  repl inline or with seperate or file.nam...(".jpg")
        if file.name.endswith(".flac" or ".jpg" or ".png"):
            songs.add(file.path)
        
        if file.is_dir():
            sub_albums = get_songs(file.path)
            for sub_album in sub_albums:
                albums.add(sub_album)
    
    new_album = tuple(sorted(songs))
    albums.add(new_album)

    return tuple(albums)

def read_metadata(flac_filename):
    flac = FLAC(flac_filename)
    flac.pprint()
    return flac

def __start__(parent_directory):
    return

albums = get_songs(flac_dir)
for album in albums:
    for song in album:
        meta = read_metadata(song)